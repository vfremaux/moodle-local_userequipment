{"version":3,"sources":["../src/bindcatpng.js"],"names":["define","$","cfg","log","init","debug","plugin","attr","bind","load_change_form","submit_change_form","that","waiter","wwwroot","html","plugintype","pluginname","url","get","data","selectpicker","val","result","catset","modal"],"mappings":"AAGAA,OAAM,kCAAC,CAAC,QAAD,CAAW,aAAX,CAA0B,UAA1B,CAAsC,sCAAtC,CAAD,CAAgF,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAAuC,CAyDzH,MAvDuB,CAEnBC,IAAI,CAAE,eAAW,CACbD,CAAG,CAACE,KAAJ,CAAU,4CAAV,EACA,GAAIC,CAAAA,CAAM,CAAGL,CAAC,CAAC,IAAD,CAAD,CAAQM,IAAR,CAAa,YAAb,CAAb,CACAN,CAAC,CAAC,iBAAkBK,CAAnB,CAAD,CAA4BE,IAA5B,CAAiC,OAAjC,CAA0C,KAAKC,gBAA/C,EACAR,CAAC,CAAC,oBAAD,CAAD,CAAwBO,IAAxB,CAA6B,OAA7B,CAAsC,KAAKE,kBAA3C,EACAP,CAAG,CAACE,KAAJ,CAAU,sCAAV,CACH,CARkB,CAUnBI,gBAAgB,CAAE,2BAAW,IACrBE,CAAAA,CAAI,CAAGV,CAAC,CAAC,IAAD,CADa,CAGrBW,CAAM,CAAG,kEAHY,CAIzBA,CAAM,EAAIV,CAAG,CAACW,OAAJ,CAAc,2CAAxB,CACAZ,CAAC,CAAC,yBAAD,CAAD,CAA6Ba,IAA7B,CAAkCF,CAAlC,EALyB,GAOrBG,CAAAA,CAAU,CAAGJ,CAAI,CAACJ,IAAL,CAAU,iBAAV,CAPQ,CAQrBS,CAAU,CAAGL,CAAI,CAACJ,IAAL,CAAU,iBAAV,CARQ,CAUrBU,CAAG,CAAGf,CAAG,CAACW,OAAJ,CAAc,uCAVC,CAWzBI,CAAG,EAAI,2BAAP,CACAA,CAAG,EAAI,eAAiBF,CAAxB,CACAE,CAAG,EAAI,eAAiBD,CAAxB,CAEAf,CAAC,CAACiB,GAAF,CAAMD,CAAN,CAAW,SAASE,CAAT,CAAe,CACtBlB,CAAC,CAAC,yBAAD,CAAD,CAA6Ba,IAA7B,CAAkCK,CAAlC,EACAlB,CAAC,CAAC,oBAAD,CAAD,CAAwBM,IAAxB,CAA6B,iBAA7B,CAAgDQ,CAAhD,EACAd,CAAC,CAAC,oBAAD,CAAD,CAAwBM,IAAxB,CAA6B,iBAA7B,CAAgDS,CAAhD,EACAf,CAAC,CAAC,eAAD,CAAD,CAAmBmB,YAAnB,EACH,CALD,CAKG,MALH,CAMH,CA/BkB,CAiCnBV,kBAAkB,CAAE,6BAAW,IACvBC,CAAAA,CAAI,CAAGV,CAAC,CAAC,IAAD,CADe,CAGvBe,CAAU,CAAGL,CAAI,CAACJ,IAAL,CAAU,iBAAV,CAHU,CAIvBQ,CAAU,CAAGJ,CAAI,CAACJ,IAAL,CAAU,aAAV,CAJU,CAKvBU,CAAG,CAAGf,CAAG,CAACW,OAAJ,CAAc,uCALG,CAM3BI,CAAG,EAAI,cAAP,CACAA,CAAG,EAAI,SAAWD,CAAlB,CACAC,CAAG,EAAI,SAAWF,CAAlB,CAEAE,CAAG,EAAI,eAAiBhB,CAAC,CADT,eAAiBc,CAAjB,CAA8B,GAA9B,CAAoCC,CAC3B,CAAD,CAAaK,GAAb,EAAxB,CAEApB,CAAC,CAACiB,GAAF,CAAMD,CAAN,CAAW,SAASE,CAAT,CAAe,CACtB,GAAoB,SAAhB,GAAAA,CAAI,CAACG,MAAT,CAA+B,CAC3BrB,CAAC,CAAC,sBAAwBc,CAAxB,CAAqC,GAArC,CAA2CC,CAA5C,CAAD,CAAyDF,IAAzD,CAA8DK,CAAI,CAACI,MAAnE,EACAtB,CAAC,CAAC,mBAAD,CAAD,CAAuBuB,KAAvB,CAA6B,MAA7B,CACH,CACJ,CALD,CAKG,MALH,CAMH,CAnDkB,CAwD1B,CA1DK,CAAN","sourcesContent":["\n/*eslint-disable no-unused-vars */\n\ndefine(['jquery', 'core/config', 'core/log', 'local_userequipment/bootstrap-select'], function($, cfg, log, bootstrapselect) {\n\n    var moodlebindcatpng = {\n\n        init: function() {\n            log.debug('Start AMD Userequipment CatPng initialized');\n            var plugin = $(this).attr('data-value');\n            $(\"#id_openmodal_\"+ plugin).bind('click', this.load_change_form);\n            $(\"#modal-status-save\").bind('click', this.submit_change_form);\n            log.debug('AMD Userequipment CatPng initialized');\n        },\n\n        load_change_form: function() {\n            var that = $(this);\n\n            var waiter = '<div class=\"centered\"><center><img id=\"detail-waiter\" src=\"';\n            waiter += cfg.wwwroot + '/pix/i/ajaxloader.gif\" /></center></div>';\n            $('#catpng-edit-inner-form').html(waiter);\n\n            var plugintype = that.attr('data-plugintype');\n            var pluginname = that.attr('data-pluginname');\n\n            var url = cfg.wwwroot + '/local/userequipment/ajax/service.php';\n            url += '?what=getplugincategories';\n            url += '&plugintype=' + plugintype;\n            url += '&pluginname=' + pluginname;\n\n            $.get(url, function(data) {\n                $('#catpng-edit-inner-form').html(data);\n                $(\"#modal-status-save\").attr('data-plugintype', plugintype);\n                $(\"#modal-status-save\").attr('data-pluginname', pluginname);\n                $('.selectpicker').selectpicker();\n            }, 'html');\n        },\n\n        submit_change_form: function() {\n            var that = $(this);\n\n            var pluginname = that.attr('data-pluginname');\n            var plugintype = that.attr('data-plugin');\n            var url = cfg.wwwroot + '/local/userequipment/ajax/service.php';\n            url += '?what=update';\n            url += '&name=' + pluginname;\n            url += '&type=' + plugintype;\n            var selectkey = '#cat-select-' + plugintype + '-' + pluginname;\n            url += '&categories=' + $(selectkey).val();\n\n            $.get(url, function(data) {\n                if (data.result === 'success') {\n                    $('#plugin-categories-' + plugintype + '-' + pluginname).html(data.catset);\n                    $('#catpng-edit-form').modal('hide'); // Close the modal dialog.\n                }\n            }, 'json');\n        }\n\n    };\n\n    return moodlebindcatpng;\n});"],"file":"bindcatpng.min.js"}