{"version":3,"sources":["../src/bindcatpng.js"],"names":["define","$","cfg","log","init","debug","bind","load_change_form","submit_change_form","that","waiter","wwwroot","html","plugintype","attr","pluginname","url","get","data","selectpicker","val","result","catset","modal"],"mappings":"AAGAA,OAAM,kCAAC,CAAC,QAAD,CAAW,aAAX,CAA0B,UAA1B,CAAsC,sCAAtC,CAAD,CAAgF,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAAuC,CAwDzH,MAtDuB,CAEnBC,IAAI,CAAE,eAAW,CACbD,CAAG,CAACE,KAAJ,CAAU,4CAAV,EACAJ,CAAC,CAAC,eAAD,CAAD,CAAmBK,IAAnB,CAAwB,OAAxB,CAAiC,KAAKC,gBAAtC,EACAN,CAAC,CAAC,oBAAD,CAAD,CAAwBK,IAAxB,CAA6B,OAA7B,CAAsC,KAAKE,kBAA3C,EACAL,CAAG,CAACE,KAAJ,CAAU,sCAAV,CACH,CAPkB,CASnBE,gBAAgB,CAAE,2BAAW,IACrBE,CAAAA,CAAI,CAAGR,CAAC,CAAC,IAAD,CADa,CAGrBS,CAAM,CAAG,kEAHY,CAIzBA,CAAM,EAAIR,CAAG,CAACS,OAAJ,CAAc,2CAAxB,CACAV,CAAC,CAAC,yBAAD,CAAD,CAA6BW,IAA7B,CAAkCF,CAAlC,EALyB,GAOrBG,CAAAA,CAAU,CAAGJ,CAAI,CAACK,IAAL,CAAU,iBAAV,CAPQ,CAQrBC,CAAU,CAAGN,CAAI,CAACK,IAAL,CAAU,iBAAV,CARQ,CAUrBE,CAAG,CAAGd,CAAG,CAACS,OAAJ,CAAc,uCAVC,CAWzBK,CAAG,EAAI,2BAAP,CACAA,CAAG,EAAI,eAAiBH,CAAxB,CACAG,CAAG,EAAI,eAAiBD,CAAxB,CAEAd,CAAC,CAACgB,GAAF,CAAMD,CAAN,CAAW,SAASE,CAAT,CAAe,CACtBjB,CAAC,CAAC,yBAAD,CAAD,CAA6BW,IAA7B,CAAkCM,CAAlC,EACAjB,CAAC,CAAC,oBAAD,CAAD,CAAwBa,IAAxB,CAA6B,iBAA7B,CAAgDD,CAAhD,EACAZ,CAAC,CAAC,oBAAD,CAAD,CAAwBa,IAAxB,CAA6B,iBAA7B,CAAgDC,CAAhD,EACAd,CAAC,CAAC,eAAD,CAAD,CAAmBkB,YAAnB,EACH,CALD,CAKG,MALH,CAMH,CA9BkB,CAgCnBX,kBAAkB,CAAE,6BAAW,IACvBC,CAAAA,CAAI,CAAGR,CAAC,CAAC,IAAD,CADe,CAGvBc,CAAU,CAAGN,CAAI,CAACK,IAAL,CAAU,iBAAV,CAHU,CAIvBD,CAAU,CAAGJ,CAAI,CAACK,IAAL,CAAU,aAAV,CAJU,CAKvBE,CAAG,CAAGd,CAAG,CAACS,OAAJ,CAAc,uCALG,CAM3BK,CAAG,EAAI,cAAP,CACAA,CAAG,EAAI,SAAWD,CAAlB,CACAC,CAAG,EAAI,SAAWH,CAAlB,CAEAG,CAAG,EAAI,eAAiBf,CAAC,CADT,eAAiBY,CAAjB,CAA8B,GAA9B,CAAoCE,CAC3B,CAAD,CAAaK,GAAb,EAAxB,CAEAnB,CAAC,CAACgB,GAAF,CAAMD,CAAN,CAAW,SAASE,CAAT,CAAe,CACtB,GAAoB,SAAhB,GAAAA,CAAI,CAACG,MAAT,CAA+B,CAC3BpB,CAAC,CAAC,sBAAwBY,CAAxB,CAAqC,GAArC,CAA2CE,CAA5C,CAAD,CAAyDH,IAAzD,CAA8DM,CAAI,CAACI,MAAnE,EACArB,CAAC,CAAC,mBAAD,CAAD,CAAuBsB,KAAvB,CAA6B,MAA7B,CACH,CACJ,CALD,CAKG,MALH,CAMH,CAlDkB,CAuD1B,CAzDK,CAAN","sourcesContent":["\n/*eslint-disable no-unused-vars */\n\ndefine(['jquery', 'core/config', 'core/log', 'local_userequipment/bootstrap-select'], function($, cfg, log, bootstrapselect) {\n\n    var moodlebindcatpng = {\n\n        init: function() {\n            log.debug('Start AMD Userequipment CatPng initialized');\n            $(\"#id_openmodal\").bind('click', this.load_change_form);\n            $(\"#modal-status-save\").bind('click', this.submit_change_form);\n            log.debug('AMD Userequipment CatPng initialized');\n        },\n\n        load_change_form: function() {\n            var that = $(this);\n\n            var waiter = '<div class=\"centered\"><center><img id=\"detail-waiter\" src=\"';\n            waiter += cfg.wwwroot + '/pix/i/ajaxloader.gif\" /></center></div>';\n            $('#catpng-edit-inner-form').html(waiter);\n\n            var plugintype = that.attr('data-plugintype');\n            var pluginname = that.attr('data-pluginname');\n\n            var url = cfg.wwwroot + '/local/userequipment/ajax/service.php';\n            url += '?what=getplugincategories';\n            url += '&plugintype=' + plugintype;\n            url += '&pluginname=' + pluginname;\n\n            $.get(url, function(data) {\n                $('#catpng-edit-inner-form').html(data);\n                $(\"#modal-status-save\").attr('data-plugintype', plugintype);\n                $(\"#modal-status-save\").attr('data-pluginname', pluginname);\n                $('.selectpicker').selectpicker();\n            }, 'html');\n        },\n\n        submit_change_form: function() {\n            var that = $(this);\n\n            var pluginname = that.attr('data-pluginname');\n            var plugintype = that.attr('data-plugin');\n            var url = cfg.wwwroot + '/local/userequipment/ajax/service.php';\n            url += '?what=update';\n            url += '&name=' + pluginname;\n            url += '&type=' + plugintype;\n            var selectkey = '#cat-select-' + plugintype + '-' + pluginname;\n            url += '&categories=' + $(selectkey).val();\n\n            $.get(url, function(data) {\n                if (data.result === 'success') {\n                    $('#plugin-categories-' + plugintype + '-' + pluginname).html(data.catset);\n                    $('#catpng-edit-form').modal('hide'); // Close the modal dialog.\n                }\n            }, 'json');\n        }\n\n    };\n\n    return moodlebindcatpng;\n});"],"file":"bindcatpng.min.js"}