{"version":3,"sources":["../src/bindcatpng.js"],"names":["define","$","cfg","log","init","bind","load_change_form","submit_change_form","debug","that","waiter","wwwroot","html","plugintype","attr","pluginname","url","get","data","selectpicker","categories","val","console","result","catset","modal"],"mappings":"AAGAA,OAAM,kCAAC,CAAC,QAAD,CAAW,aAAX,CAA0B,UAA1B,CAAsC,sCAAtC,CAAD,CAAgF,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAAuC,CA2DzH,MAzDuB,CAEnBC,IAAI,CAAE,eAAW,CACbH,CAAC,CAAC,oBAAD,CAAD,CAAwBI,IAAxB,CAA6B,OAA7B,CAAsC,KAAKC,gBAA3C,EACAL,CAAC,CAAC,oBAAD,CAAD,CAAwBI,IAAxB,CAA6B,OAA7B,CAAsC,KAAKE,kBAA3C,EACAJ,CAAG,CAACK,KAAJ,CAAU,sCAAV,CACH,CANkB,CAQnBF,gBAAgB,CAAE,2BAAW,IACrBG,CAAAA,CAAI,CAAGR,CAAC,CAAC,IAAD,CADa,CAGrBS,CAAM,CAAG,kEAHY,CAIzBA,CAAM,EAAIR,CAAG,CAACS,OAAJ,CAAc,2CAAxB,CACAV,CAAC,CAAC,yBAAD,CAAD,CAA6BW,IAA7B,CAAkCF,CAAlC,EALyB,GAOrBG,CAAAA,CAAU,CAAGJ,CAAI,CAACK,IAAL,CAAU,iBAAV,CAPQ,CAQrBC,CAAU,CAAGN,CAAI,CAACK,IAAL,CAAU,iBAAV,CARQ,CAUrBE,CAAG,CAAGd,CAAG,CAACS,OAAJ,CAAc,uCAVC,CAWzBK,CAAG,EAAI,2BAAP,CACAA,CAAG,EAAI,SAAWH,CAAlB,CACAG,CAAG,EAAI,SAAWD,CAAlB,CAEAd,CAAC,CAACgB,GAAF,CAAMD,CAAN,CAAW,SAASE,CAAT,CAAe,CACtBjB,CAAC,CAAC,yBAAD,CAAD,CAA6BW,IAA7B,CAAkCM,CAAlC,EACAjB,CAAC,CAAC,oBAAD,CAAD,CAAwBa,IAAxB,CAA6B,iBAA7B,CAAgDD,CAAhD,EACAZ,CAAC,CAAC,oBAAD,CAAD,CAAwBa,IAAxB,CAA6B,iBAA7B,CAAgDC,CAAhD,EACAd,CAAC,CAAC,eAAD,CAAD,CAAmBkB,YAAnB,EACH,CALD,CAKG,MALH,CAMH,CA7BkB,CA+BnBZ,kBAAkB,CAAE,6BAAW,IACvBE,CAAAA,CAAI,CAAGR,CAAC,CAAC,IAAD,CADe,CAGvBc,CAAU,CAAGN,CAAI,CAACK,IAAL,CAAU,iBAAV,CAHU,CAIvBD,CAAU,CAAGJ,CAAI,CAACK,IAAL,CAAU,iBAAV,CAJU,CAKvBE,CAAG,CAAGd,CAAG,CAACS,OAAJ,CAAc,uCALG,CAM3BK,CAAG,EAAI,8BAAP,CACAA,CAAG,EAAI,SAAWD,CAAlB,CACAC,CAAG,EAAI,SAAWH,CAAlB,CACA,GAAIO,CAAAA,CAAU,CAAGnB,CAAC,CAAC,eAAD,CAAD,CAAmBoB,GAAnB,EAAjB,CACAL,CAAG,EAAI,eAAiBI,CAAxB,CACAE,OAAO,CAACnB,GAAR,CAAYa,CAAZ,EACAf,CAAC,CAACgB,GAAF,CAAMD,CAAN,CAAW,SAASE,CAAT,CAAe,CACtB,GAAoB,SAAhB,GAAAA,CAAI,CAACK,MAAT,CAA+B,CAC3BtB,CAAC,CAAC,sBAAwBY,CAAxB,CAAqC,GAArC,CAA2CE,CAA5C,CAAD,CAAyDH,IAAzD,CAA8DM,CAAI,CAACM,MAAnE,EACAvB,CAAC,CAAC,oBAAD,CAAD,CAAwBwB,KAAxB,CAA8B,MAA9B,CACH,CAKDxB,CAAC,CAAC,oBAAD,CAAD,CAAwBwB,KAAxB,CAA8B,MAA9B,CACH,CAVD,CAUG,MAVH,CAWH,CAtDkB,CA0D1B,CA5DK,CAAN","sourcesContent":["\n/*eslint-disable no-unused-vars */\n\ndefine(['jquery', 'core/config', 'core/log', 'local_userequipment/bootstrap-select'], function($, cfg, log, bootstrapselect) {\n\n    var moodlebindcatpng = {\n\n        init: function() {\n            $(\".assignment_button\").bind('click', this.load_change_form);\n            $(\"#modal-status-save\").bind('click', this.submit_change_form);\n            log.debug('AMD Userequipment CatPng initialized');\n        },\n\n        load_change_form: function() {\n            var that = $(this);\n\n            var waiter = '<div class=\"centered\"><center><img id=\"detail-waiter\" src=\"';\n            waiter += cfg.wwwroot + '/pix/i/ajaxloader.gif\" /></center></div>';\n            $('#catpng-edit-inner-form').html(waiter);\n\n            var plugintype = that.attr('data-plugintype');\n            var pluginname = that.attr('data-pluginname');\n\n            var url = cfg.wwwroot + '/local/userequipment/ajax/service.php';\n            url += '?what=getplugincategories';\n            url += '&type=' + plugintype;\n            url += '&name=' + pluginname;\n\n            $.get(url, function(data) {\n                $('#catpng-edit-inner-form').html(data);\n                $(\"#modal-status-save\").attr('data-plugintype', plugintype);\n                $(\"#modal-status-save\").attr('data-pluginname', pluginname);\n                $('.selectpicker').selectpicker();\n            }, 'html');\n        },\n\n        submit_change_form: function() {\n            var that = $(this);\n\n            var pluginname = that.attr('data-pluginname');\n            var plugintype = that.attr('data-plugintype');\n            var url = cfg.wwwroot + '/local/userequipment/ajax/service.php';\n            url += '?what=updateplugincategories';\n            url += '&name=' + pluginname;\n            url += '&type=' + plugintype;\n            var categories = $('.selectpicker').val();\n            url += '&categories=' + categories;\n            console.log(url);\n            $.get(url, function(data) {\n                if (data.result === 'success') {\n                    $('#plugin-categories-' + plugintype + '-' + pluginname).html(data.catset);\n                    $('#catpng-inner-form').modal('hide'); // Close the modal dialog.\n                }\n\n                // Update the plugin's in-form category monitor.\n\n                // Hide modal.\n                $('#catpng-inner-form').modal('hide');\n            }, 'json');\n        }\n    };\n\n    return moodlebindcatpng;\n});"],"file":"bindcatpng.min.js"}