define ("local_userequipment/modchooser",["jquery","core/log","core/config"],function(a,b,c){return{init:function init(){a(".openmodal-activitychooser-link").bind("click",this.opendialog);a(".filter-section .filter").bind("click",this.filter);a(".openhelp").bind("click",this.openhelp);a(".back-selector").bind("click",this.goback);a(".filternone").css("opacity",.2);b.debug("AMD local userequipment modchooser initialized")},opendialog:function opendialog(){sectionid=a(this).attr("data-sectionid");sectionnum=a(this).attr("data-sectionnum");console.log(sectionid+"/"+sectionnum);a(".add-module-link").each(function(){var a=/section=[0-9]+/;this.href=this.href.replace(a,"section="+sectionnum);a=/sr=[0-9]+/;this.href=this.href.replace(a,"sr="+sectionnum)})},filter:function filter(c){c.stopPropagation();c.preventDefault();catid=parseInt(a(this).attr("data-category"));b.debug("Catid : "+catid);b.debug("Hasclass : "+a(this).hasClass("selected"));b.debug("Testcat : "+(0===catid));if(a(this).hasClass("selected")||0===catid){b.debug("Defiltering ");a(this).removeClass("selected");a(".filter").css("opacity","unset");a(".filternone").css("opacity",.2);a(".activity-element").removeClass("decline")}else{b.debug("Filtering ");a(".filter").removeClass("selected");a(this).addClass("selected");a(".filter").css("opacity",.2);a(".filternone").css("opacity","unset");a(this).css("opacity","unset");a(".activity-element").not(".cat-"+catid).addClass("decline");a(".activity-element").not(".cat-"+catid);a(".activity-element.cat-"+catid).removeClass("decline");a(".activity-element.cat-"+catid)}},openhelp:function openhelp(d){d.stopPropagation();d.preventDefault();a(".carousel-item").fadeIn();a(".main-section").hide();a(".filter-section").hide();pluginname=a(this).attr("data-value");pluginlink=a(this).attr("data-link");sectionlink="&section="+sectionnum;pluginlink=pluginlink.replace(/&amp;/g,"&");sectionlink=sectionlink.replace(/&amp;/g,"&");var e=c.wwwroot+"/local/userequipment/ajax/service.php";e+="?what=gethelp";e+="&modname="+pluginname;a.get(e,function(c){b.debug("Loading help topic");a("#optionsummary-label").html(""+c.image+" "+c.label);a("#optionsummary-desc").html(c.help)},"json");a(".addoption").attr("href",pluginlink+sectionlink)},goback:function goback(b){b.stopPropagation();b.preventDefault();a(".carousel-item").hide();a(".main-section").fadeIn();a(".filter-section").fadeIn()}}});
//# sourceMappingURL=modchooser.min.js.map
