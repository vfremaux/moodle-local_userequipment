define("local_userequipment/modchooser",["jquery","core/log","core/config"],(function($,log,cfg){return{init:function(){$(".openmodal-activitychooser-link").bind("click",this.opendialog),$(".filter-section .filter").bind("click",this.filter),$(".openhelp").bind("click",this.openhelp),$(".back-selector").bind("click",this.goback),$(".filternone").css("opacity",.2),log.debug("AMD local userequipment modchooser initialized")},opendialog:function(e){var vregex,sectionid=$(this).attr("data-sectionid"),sectionnum=$(this).attr("data-sectionnum");console.log(sectionid+"/"+sectionnum),$(".add-module-link").each((function(){vregex=/section=[0-9]+/,this.href=this.href.replace(vregex,"section="+sectionnum),vregex=/sr=[0-9]+/,this.href=this.href.replace(vregex,"sr="+sectionnum)}))},filter:function(e){e.stopPropagation(),e.preventDefault();var catid=parseInt($(this).attr("data-category"));log.debug("Catid : "+catid),log.debug("Hasclass : "+$(this).hasClass("selected")),log.debug("Testcat : "+(0===catid)),$(this).hasClass("selected")||0===catid?(log.debug("Defiltering "),$(this).removeClass("selected"),$(".filter").css("opacity","unset"),$(".filternone").css("opacity",.2),$(".activity-element").removeClass("decline")):(log.debug("Filtering "),$(".filter").removeClass("selected"),$(this).addClass("selected"),$(".filter").css("opacity",.2),$(".filternone").css("opacity","unset"),$(this).css("opacity","unset"),$(".activity-element").not(".cat-"+catid).addClass("decline"),$(".activity-element").not(".cat-"+catid),$(".activity-element.cat-"+catid).removeClass("decline"),$(".activity-element.cat-"+catid))},openhelp:function(e){e.stopPropagation(),e.preventDefault(),$(".carousel-item").fadeIn(),$(".main-section").hide(),$(".filter-section").hide();var pluginname=$(this).attr("data-value"),pluginlink=$(this).attr("data-link"),sectionlink="&section="+$(this).attr("data-sectionnum");pluginlink=pluginlink.replace(/&amp;/g,"&"),sectionlink=sectionlink.replace(/&amp;/g,"&");var url=cfg.wwwroot+"/local/userequipment/ajax/service.php";url+="?what=gethelp",url+="&modname="+pluginname,$.get(url,(function(data){log.debug("Loading help topic"),$("#optionsummary-label").html(data.image+" "+data.label),$("#optionsummary-desc").html(data.help)}),"json"),$(".addoption").attr("href",pluginlink+sectionlink)},goback:function(e){e.stopPropagation(),e.preventDefault(),$(".carousel-item").hide(),$(".main-section").fadeIn(),$(".filter-section").fadeIn()}}}));

//# sourceMappingURL=modchooser.min.js.map